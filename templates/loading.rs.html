@use super::base_html;
@use crate::statics::VersionInfo;
@use crate::template::RepoInfo;

@(version_info: VersionInfo, repo_count: usize, repo_info: RepoInfo, label: &str)

@:base_html("Hits-of-Code
Badges", "Overview", {

<p>
  The metric for the project <a href="@repo_info.url">@repo_info.url</a> is
  currently being calculated. Try again in a few seconds.
</p>

<p>To include the badge in your readme, use the following markdown:</p>

<pre>
  [![@label](@repo_info.base_url/@repo_info.path@repo_info.query)](@repo_info.base_url/@repo_info.path/view@repo_info.query)
</pre>

<form
  method="post"
  action="/@repo_info.path/delete@repo_info.query"
>
  <button type="submit">Rebuild Cache</button>
</form>
}, version_info, repo_count)
